<div id="carouselExampleInterval" class="carousel slide bg-container" data-bs-ride="carousel">
  <!-- Carousel Inner -->
  <div class="carousel-inner">
    <div class="carousel-item active" data-bs-interval="2000">
      <img src="/assets/img3.jpg" class="d-block w-100" alt="Background Image 1">
    </div>
    <div class="carousel-item" data-bs-interval="3000">
      <img src="/assets/contractors.jpg" class="d-block w-100" alt="Background Image 2">
    </div>
    <div class="carousel-item">
      <img src="/assets/aircon.jpg" class="d-block w-100" alt="Background Image 3">
    </div>
  </div>

  <!-- Controls -->
  <!-- <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleInterval" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button> -->

  <!-- Form and Content -->
  <div class="container col-xl-10 col-xxl-8 px-4 position-absolute top-0 pt-50 start-50 translate-middle">
    <i class="bi bi-arrow-left back-icon me-5" routerLink="/"> Back</i>
    <div class="row align-items-center g-lg-5 pt-5">
      <div class="col-lg-6 text-center text-lg-start">
        <h6 class="display-4 fw-bold lh-1 mb-3">Hippo Fixer</h6>
        <h2 class="col-lg-10 fs-5 text-white">Fix It Fast, Fix It Right â€“ Contractors at Your Fingertips!</h2>
      </div>
      <div class="col-md-10 mx-auto col-lg-6" *ngIf="cities">
        <form [formGroup]='registerForm' (ngSubmit)="registerForm.valid && register()" autocomplete="off"
          class="p-4 p-md-">

          <div class="form-group">
            <label for="email" class="text-white fs-5">Email</label>
            <input type="text" (keydown.space)="$event.preventDefault()"
              [class.is-invalid]='registerForm.get("email")?.errors && registerForm.get("email")?.touched'
              class="form-control" placeholder="Email Address" formControlName='email'>
            <div class="invalid-feedback">Please enter an email</div>
          </div>

          <div class="form-group">
            <label for="text" class="text-white fs-5">Phone Number</label>
            <input type="text" (keydown.space)="$event.preventDefault()"
              [class.is-invalid]='registerForm.get("phone")?.errors && registerForm.get("phone")?.touched'
              class="form-control" placeholder="Phone Number" formControlName='phone'>
            <div class="invalid-feedback">Please enter a valid 10-digit phone number.</div>
          </div>

          <div class="form-group">
            <label for="password" class="text-white fs-5">Password</label>
            <div class="input-group">
              <input [class.is-invalid]='registerForm.get("password")?.errors && registerForm.get("password")?.touched' [type]="showPassword ? 'text' : 'password'"
              class="form-control" formControlName='password' placeholder="Password">
              <i class="input-group-text bi" [ngClass]="showPassword ? 'bi-eye-slash-fill' : 'bi-eye-fill'"
                (click)="togglePasswordVisibility()">
              </i>
                <div *ngIf="registerForm.get('password')?.hasError('required')" class="invalid-feedback">
                  Please enter a password.
                </div>
                <div *ngIf="registerForm.get('password')?.hasError('minlength')" class="invalid-feedback">
                  The password must be at least 6 characters long and must contain at least 1 uppercase letter and 1 lowercase letter.
                </div>
                <!-- <div *ngIf="registerForm.get('password')?.hasError('maxlength')" class="invalid-feedback">Please must be at
              most 12
              characters.</div> -->
            </div>
          </div>

          <div class="form-group">
            <label for="password" class="text-white fs-5">Confirm Password</label>
            <input
              [class.is-invalid]='registerForm.get("confirmPassword")?.errors && registerForm.get("confirmPassword")?.touched'
              type="password" class="form-control" formControlName='confirmPassword' placeholder="Confirm Password">
            <div *ngIf="registerForm.get('confirmPassword')?.hasError('required')" class="invalid-feedback">Please
              confirm the password.</div>
            <!-- <div *ngIf="registerForm.get('confirmPassword')?.hasError('minlength')" class="invalid-feedback"></div> -->
            <!-- <div *ngIf="registerForm.get('confirmPassword')?.hasError('maxlength')" class="invalid-feedback">Please must
              be at
              most 12 characters.</div> -->
            <div class="invalid-feedback"
              *ngIf="(registerForm.get('password').value !== registerForm.get('confirmPassword').value)">
              The 2 Passwords must match.
            </div>
          </div>

          <div class="form-group">
            <label for="cityId" class="text-white fs-5">Where are you based?</label>
            <input class="form-control" list="cities" id="cityId" formControlName="cityName"
              placeholder="Type to search..."
              [class.is-invalid]="registerForm.get('cityName')?.errors && registerForm.get('cityName')?.touched">

            <datalist id="cities">
              <option *ngFor="let city of cities" [value]="city.name"></option>
            </datalist>

            <div class="invalid-feedback">Please choose where you are based.</div>
          </div>

          <div class="row" *ngIf="validationErrors.length > 0">
            <ul class="text-danger">
              <li *ngFor="let error of validationErrors">
                {{error.description}}
              </li>
            </ul>
          </div>

          <div class="pt-2">
            <button [disabled]='!registerForm.valid' type="submit" class="w-100 btn btn-lg  btn-primary">Create
              Account</button>
            <small class="text-white m-2">By clicking Register, you agree to the terms of use.</small>
            <h6 class="m-2">Terms and conditions</h6>
            <hr class="my-4">
            <button type="button" class="w-100 btn btn-sm mt-2 btn-info" routerLink="/login">Log In In</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>